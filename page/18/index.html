<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Cyberangel-blog</title><meta name="author" content="Cyberangel"><meta name="copyright" content="Cyberangel"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="no-referrer"><meta property="og:type" content="website">
<meta property="og:title" content="Cyberangel-blog">
<meta property="og:url" content="https://cyberangel.cn/page/18/index.html">
<meta property="og:site_name" content="Cyberangel-blog">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="Cyberangel">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://cyberangel.cn/page/18/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Cyberangel-blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-07-04 18:42:44'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Cyberangel-blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">317</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Cyberangel-blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Cyberangel-blog</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/02/11/%E7%AC%AC18%E7%AB%A0%20UPack%20PE%E6%96%87%E4%BB%B6%E5%A4%B4%E8%AF%A6%E7%BB%86%E5%88%86%E6%9E%90/" title="第18章 UPack PE文件头详细分析">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第18章 UPack PE文件头详细分析"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/11/%E7%AC%AC18%E7%AB%A0%20UPack%20PE%E6%96%87%E4%BB%B6%E5%A4%B4%E8%AF%A6%E7%BB%86%E5%88%86%E6%9E%90/" title="第18章 UPack PE文件头详细分析">第18章 UPack PE文件头详细分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-11T01:58:14.000Z" title="发表于 2020-02-11 09:58:14">2020-02-11</time></span></div><div class="content">UPack（Ultimate PE 压缩器）是一款 PE 文件的运行时压缩器，其特点是用一种非常独特的方式对 PE 头进行变形。UPack 会引起诸多现有 PE 分析程序错误，因此各制作者（公司）不得不重新修改、调整程序。也就是说，UPack 使用了一些划时代的技术方法，详细分析 UPack 可以把对 PE 头的认识提升到一个新层次。本章将完全颠覆大家之前对 PE 头的了解，在学习更多知识的同时，进一步感受代码逆向分析的乐趣与激情。
18.1 UPack 说明UPack 是一个名叫 dwing 的中国人编写的 PE 压缩器。网址：http://wex.cn/dwing/mycomp.htmUpack0.39Final：http://wex.cn/dwing/download/upack039.7zUPack 的制作者对 PE 头有深刻认识，由其对 Windows OS PE 装载器的详细分析就可以推测出来。许多 PE 压缩器中, UPack 都以对 PE 头的独特变形技法而闻名。初次查看 UPack 压缩的文件 PE 头时,经常会产生“这是什么啊？这能运行吗？”等疑问,其独特的变形技术 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/02/10/%E7%AC%AC17%E7%AB%A0%20%E4%BB%8E%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E4%B8%AD%E5%88%A0%E9%99%A4.reloc%E8%8A%82%E5%8C%BA/" title="第17章 从可执行文件中删除.reloc节区">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第17章 从可执行文件中删除.reloc节区"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/10/%E7%AC%AC17%E7%AB%A0%20%E4%BB%8E%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E4%B8%AD%E5%88%A0%E9%99%A4.reloc%E8%8A%82%E5%8C%BA/" title="第17章 从可执行文件中删除.reloc节区">第17章 从可执行文件中删除.reloc节区</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-10T08:56:56.000Z" title="发表于 2020-02-10 16:56:56">2020-02-10</time></span></div><div class="content">本章将通过练习使大家了解从 PE 文件中手动删除.reloc 节区的方法，这将大大加深各位对 PE 文件格式的理解，同时进一步熟悉 Hex Editor 等工具的使用。
17.1.reloc 节区**EXE 形式的 PE 文件中，“基址重定位表”项对运行没什么影响**。实际上，将其**删除后**程序仍然**正常运行****（基址重定位表对 DLL/SYS 形式的文件来说几乎是必需的）。**VC++中生成的 PE 文件的**重定位节区名为.reloc**，删除该节区后文件照常运行，且文件大小将缩减（实际上存在这种实用小程序）。.reloc 节区一般位于所有节区的最后，删除这最后一个（不使用的）节区不像想得那么难。只使用 PEView 与 Hex Editor（手动删除）就足够了。
17.2 reloc.exe若想准确删除位于文件末尾的.reloc 节区，需要按照以下 4 个步骤操作。操作步骤————————————————————————————————————–步骤 1-整理.reloc 节区头；步骤 2-删除.reloc 节区；步骤 3-修改 IMAGE_FILE_HEADER；步骤 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/02/10/%E7%AC%AC16%E7%AB%A0%20%E5%9F%BA%E5%9D%80%E9%87%8D%E5%AE%9A%E4%BD%8D%E8%A1%A8/" title="第16章 基址重定位表">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第16章 基址重定位表"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/10/%E7%AC%AC16%E7%AB%A0%20%E5%9F%BA%E5%9D%80%E9%87%8D%E5%AE%9A%E4%BD%8D%E8%A1%A8/" title="第16章 基址重定位表">第16章 基址重定位表</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-10T04:56:32.000Z" title="发表于 2020-02-10 12:56:32">2020-02-10</time></span></div><div class="content">PE 文件在重定位过程中会用到**基址重定位表（Base Relocation Table)**，本章将学习其结构及操作原理。
16.1 PE 重定位向进程的虚拟内存加载 PE 文件（EXE/DLL/SYS）时，文件会被加载到 PE 头的**ImageBase**所指的地址处。若加载的是 DLL（SYS）文件，且在 ImageBase 位置处已经加载了其他 DLL（SYS)文件，那么 PE 装载器就会将其加载到其他未被占用的空间。这就涉及 PE 文件重定位的问题，PE 重定位是指 PE 文件无法加载到 ImageBase 所指位置，而是被加载到其他地址时发生的一系列的处理行为。提示——————————————————————————————————————使用 SDK（Software DevelopmentKit,软件开发工具包）或 VisualC++创建 PE 文件时，EXE 默认的 ImageBase 为 00400000，DLL 默认的 ImageBase 为 10000000。此外， 使用 DDK（Driver Development Kit,驱动开发工具包创建的 SYS 文 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/02/10/%E7%AC%AC15%E7%AB%A0%20%E8%B0%83%E8%AF%95UPX%E5%8E%8B%E7%BC%A9%E7%9A%84notepad%E7%A8%8B%E5%BA%8F/" title="第15章 调试UPX压缩的notepad程序">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第15章 调试UPX压缩的notepad程序"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/10/%E7%AC%AC15%E7%AB%A0%20%E8%B0%83%E8%AF%95UPX%E5%8E%8B%E7%BC%A9%E7%9A%84notepad%E7%A8%8B%E5%BA%8F/" title="第15章 调试UPX压缩的notepad程序">第15章 调试UPX压缩的notepad程序</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-10T03:17:18.000Z" title="发表于 2020-02-10 11:17:18">2020-02-10</time></span></div><div class="content">本章将调试 UPX 压缩的 notepad_upx.exe 程序，进一步了解运行时压缩的相关概念。我们的目标是通过调试一点点地跟踪代码，最终找出原 notepad.exe 程序代码。最后再简单讲解一下经过 UPX 压缩的文件如何通过调试器。提示——————————————————————————————————————本章示例使用的是 WindowsXPSP3 中的 notepad.exe 程序。

15.1 notepad.exe 的 EP 代码首先看一下原 notepad.exe 程序的 EP 代码，如图 15-1 所示。图 15-1 notepad.exe 的 EP 代码在 010073B2 地址处调用了 GetModuleHandleA()API，获取 notepad.exe 程序的 ImageBase（基准位置）。然后在 010073B4 与 010073C0 地址处比较 MZ 与 PE 签名。希望各位熟记原 notepad.exe 的 EP 代码。
15.2 notepad_upx.exe 的 EP 代码使用 olyDbg 打开 notepad_upx.exe 时，弹出图  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/02/10/%E7%AC%AC14%E7%AB%A0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8E%8B%E7%BC%A9/" title="第14章运行时压缩">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第14章运行时压缩"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/10/%E7%AC%AC14%E7%AB%A0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8E%8B%E7%BC%A9/" title="第14章运行时压缩">第14章运行时压缩</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-10T02:38:27.000Z" title="发表于 2020-02-10 10:38:27">2020-02-10</time></span></div><div class="content">运行时压缩器（Run-Time Packer)是软件逆向分析学的常见主题。为了理解好它，需要掌握有关 PE 文件格式、操作系统的基本知识（进程、内存、DLL 等），同时也要了解有关压缩/解压缩算法的基本内容。其中许多部分已经在前面讲解过了，学习运行时压缩能够进一步帮助大家把前面学过的逆向分析知识系统化，做到融会贯通。
14.1 数据压缩大家对于数据压缩都比较熟悉，下面简单梳理一下相关知识。数据压缩（Data Compression)是计算机工程的主要研究内容，经过数十年发展已经有了深入研究，今后还会不断出现更多、更好的算法。如果日常生活中能够非常容易地压缩某个物体该多么方便啊！也就不再需要仓库、停车场、集装箱了，当然，得能压缩才行。而在数码世界，（只要不是压缩过的信息）任何信息都能轻松压缩。不论哪种形态的文件（数据）都是由二进制（0 或 1）组成的，只要使用合适的压缩算法，就能缩减其大小。经过压缩的文件若能 100%恢复，则称该压缩为“**无损压缩**”（Lossless DataCompression)；若不能恢复原状，则称该压缩为“**有损压缩**”（Loss Data Compr ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/02/09/%E7%AC%AC13%E7%AB%A0%20PE%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/" title="第13章 PE文件格式">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第13章 PE文件格式"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/09/%E7%AC%AC13%E7%AB%A0%20PE%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/" title="第13章 PE文件格式">第13章 PE文件格式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-09T02:03:03.000Z" title="发表于 2020-02-09 10:03:03">2020-02-09</time></span></div><div class="content">本章将详细讲解 Windows 操作系统的 PE（Portable Executable)文件格式相关知识。学习 PE 文件格式的过程中，也一起整理一下有关进程、内存、DLL 等的内容，它们是 Windows 操作系统最核心的部分。
13.1 介绍PE 文件是 Windows 操作系统下使用的可执行文件格式。它是微软在 UNIX 平台的 COFF（Common Object File Format,通用对象文件格式）基础上制作而成的。最初（正如 Portable 这个单词所代表的那样）设计用来提高程序在不同操作系统上的移植性，但实际上这种文件格式仅用在 Windows 系列的操作系统下。PE 文件是指 32 位的可执行文件，也称为 PE32。64 位的可执行文件称为 PE+或 PE32+，是 PE（PE32)文件的一种扩展形式（请注意不是 PE64）。
13.2PE 文件格式PE 文件种类如表 13-1 所示。表 13-1 PE 文件种类



种类
主扩展名
种类
主扩展名



可执行系列
EXE、SCR
驱动程序系列
SYS、VXD、


库系列
DLL、OCX、CPL、DRV
 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/02/08/%E7%AC%AC12%E7%AB%A0%20%E7%A9%B6%E7%AB%9F%E5%BA%94%E5%BD%93%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0%E4%BB%A3%E7%A0%81%E9%80%86%E5%90%91%E5%88%86%E6%9E%90%EF%BC%88%E9%87%8D%E8%A6%81%EF%BC%89/" title="第12章 究竟应当如何学习代码逆向分析（重要）">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第12章 究竟应当如何学习代码逆向分析（重要）"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/08/%E7%AC%AC12%E7%AB%A0%20%E7%A9%B6%E7%AB%9F%E5%BA%94%E5%BD%93%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0%E4%BB%A3%E7%A0%81%E9%80%86%E5%90%91%E5%88%86%E6%9E%90%EF%BC%88%E9%87%8D%E8%A6%81%EF%BC%89/" title="第12章 究竟应当如何学习代码逆向分析（重要）">第12章 究竟应当如何学习代码逆向分析（重要）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-08T13:11:51.000Z" title="发表于 2020-02-08 21:11:51">2020-02-08</time></span></div><div class="content">经常有人问：“怎么开始学代码逆向分析啊？帮帮我吧！”我开博客、写技术类书籍都是为了尽自己绵薄之力，帮助大家提高代码的逆向分析水平，并广泛传播逆向分析技术。这些若能给代码逆向技术的初学者们带来一点帮助，我就再无他求了。那么，到底如何才能学好代码逆向分析技术呢？下面我与各位分享自己的一点心得。
12.1 逆向工程12.1.1 任何学习都应当有目标自己需要有一个明确的目标，如“为了成为逆向技术专家”、“为了就业”、“感兴趣”、“想成为黑客”等。若无这样的明确目标，很难坚持学下去（半途而废的可能性很大）。并且，目标也能给大家指明方向。希望各位跟着自己的目标，一步步地往前走。
12.1.2 拥有积极心态有些人有时会有一些误解与偏见。

“我不懂 C 语言……能学代码逆向分析吗?”一当然能。
“我没接触过汇编，就不能学代码逆向分析了吧？”→ 谁说的?能学好啊！
“我一点儿也不懂 Windows 的结构……也能学代码逆向分析吗?”→ 能学得很好的。

类似上面这些“我不懂 XXX”、“我没接触过 XXX”的话对开始学习代码逆向分析技术毫无意义。其实，这些话会让人产生恐惧、失去挑战的意识。也就是说，这 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/02/08/%E7%AC%AC11%E7%AB%A0%20%E8%A7%86%E9%A2%91%E8%AE%B2%E5%BA%A7/" title="第11章 视频讲座">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第11章 视频讲座"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/08/%E7%AC%AC11%E7%AB%A0%20%E8%A7%86%E9%A2%91%E8%AE%B2%E5%BA%A7/" title="第11章 视频讲座">第11章 视频讲座</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-08T10:33:50.000Z" title="发表于 2020-02-08 18:33:50">2020-02-08</time></span></div><div class="content">一位名叫 Lena 的人在https://tuts4you.com/公示板上贴了 40 个 crackme 讲座，以帮助初学者学习代码逆向分析技术。这些讲座非常受欢迎，因为所有讲座都以 Flash 视频形式呈现出来，且让学习者感到非常亲切。各位可以链接到 tuts4you 网站观看这些视频讲座，这对学习代码逆向分析技术非常有帮助。
11.1 运行首先运行要破解的文件。

弹出消息对话框，显示 2 条信息。
删除所有烦人的 Nags（唠叨）

查找 registration code 选择“确认”按钮，显示主窗口，如图 11-2 所示。    这是个典型的 serial crackme 程序。阅读画面中的蓝色文字，要求使用 SmartCheck 注册（SmartCheck 是 Numega 公司制作的实用程序，是破解者喜欢使用的工具之一。本书仅使用调试器进行调试破解）。图 11-1 初始消息框图 11-2 主画面提示——————————————————————————————————————若示例文件（Tut.ReverseMel.exe)无法运行，请先将附带的 MSVBVM50.dll ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/02/08/%E7%AC%AC10%E7%AB%A0%20%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E7%BA%A6%E5%AE%9A/" title="第10章 函数调用约定">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第10章 函数调用约定"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/08/%E7%AC%AC10%E7%AB%A0%20%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E7%BA%A6%E5%AE%9A/" title="第10章 函数调用约定">第10章 函数调用约定</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-08T08:45:57.000Z" title="发表于 2020-02-08 16:45:57">2020-02-08</time></span></div><div class="content">本章学习函数调用约定（Calling Convention)的相关知识。
10.1 函数调用约定Calling Convention 译成中文是“函数调用约定”，它是对函数调用时如何传递参数的一种约定。我们通过前面的学习已经知道，调用函数前要先把参数压入栈然后再传递给函数。栈就是定义在进程中的一段内存空间，向下（低地址方向）扩展，且其大小被记录在 PE 头中。也就是说，进程运行时确定栈内存的大小（与 malloc/new 动态分配内存不同）。

提问 1.函数执行完成后，栈中的参数如何处理？回答 1.不用管。

由于只是临时使用存储在栈中的值，即使不再使用，清除工作也会浪费 CPU 资源。下一次再向栈存入其他值时，原有值会被自然覆盖掉，并且栈内存是固定的，所以既不能也没必要释放内存。

提问 2.函数执行完毕后，ESP 值如何变化？回答 2.ESP 值要恢复到函数调用之前，这样可引用的栈大小才不会缩减。

栈内存是固定的，ESP 用来指示栈的当前位置，若 ESP 指向栈底，则无法再使用该栈。函数调用后如何处理 ESP，这就是函数调用约定要解决的问题。主要的函数调用约定如下。
  - c ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/02/08/%E7%AC%AC9%E7%AB%A0%20Process%20Explorer%E2%80%94%E2%80%94%E6%9C%80%E4%BC%98%E7%A7%80%E7%9A%84%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" title="第9章 Process Explorer——最优秀的进程管理工具">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第9章 Process Explorer——最优秀的进程管理工具"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/08/%E7%AC%AC9%E7%AB%A0%20Process%20Explorer%E2%80%94%E2%80%94%E6%9C%80%E4%BC%98%E7%A7%80%E7%9A%84%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" title="第9章 Process Explorer——最优秀的进程管理工具">第9章 Process Explorer——最优秀的进程管理工具</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-08T08:32:26.000Z" title="发表于 2020-02-08 16:32:26">2020-02-08</time></span></div><div class="content">9.1 Process ExplorerProcess Explorer 是 Windows 操作系统下最优秀的进程管理工具。https://technet.microsoft.com/en-us/sysinternals/bb896653.aspx它是 Mark Russinovich 开发的进程管理实用程序。Mark Russinovich 创办了著名的 sysinternals（目前已并入微软旗下），他有着渊博的 Windows 操作系统知识，开发并公布了许多实用程序（FileMon、RegMon、TcpView、Dbg View、AutoRuns、RootKit Revealer 等），也是《深入解析 Windows 操作系统》一书的合著者。他曾公开过 FileMon 与 RegMon 的源代码。在 Windows 操作系统缺乏各种信息资料的早期，这些源码对系统驱动开发者而言就像沙漠中的绿洲。图 9-1 Process Explore 运行画面言归正传，一起看一下 Process Explorer 的运行界面（参考图 9-1）。它拥有 Windows 任务管理器无法比拟的优秀界 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/17/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/#content-inner">17</a><span class="page-number current">18</span><a class="page-number" href="/page/19/#content-inner">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/#content-inner">32</a><a class="extend next" rel="next" href="/page/19/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Cyberangel</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">317</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/06/10/%E5%88%A9%E7%94%A8mprotect%E4%BF%AE%E6%94%B9%E7%A8%8B%E5%BA%8F%E6%AE%B5%E6%9D%83%E9%99%90%E4%B8%BA%E5%8F%AF%E6%89%A7%E8%A1%8C/" title="利用mprotect修改程序段权限为可执行"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="利用mprotect修改程序段权限为可执行"/></a><div class="content"><a class="title" href="/2021/06/10/%E5%88%A9%E7%94%A8mprotect%E4%BF%AE%E6%94%B9%E7%A8%8B%E5%BA%8F%E6%AE%B5%E6%9D%83%E9%99%90%E4%B8%BA%E5%8F%AF%E6%89%A7%E8%A1%8C/" title="利用mprotect修改程序段权限为可执行">利用mprotect修改程序段权限为可执行</a><time datetime="2021-06-10T07:59:46.000Z" title="发表于 2021-06-10 15:59:46">2021-06-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/31/SROP%EF%BC%881%EF%BC%89--%E4%BB%8E%E4%B8%A4%E9%81%93%E9%A2%98%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86SROP%20attack/" title="SROP（1）--从两道题重新认识SROP attack"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SROP（1）--从两道题重新认识SROP attack"/></a><div class="content"><a class="title" href="/2021/05/31/SROP%EF%BC%881%EF%BC%89--%E4%BB%8E%E4%B8%A4%E9%81%93%E9%A2%98%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86SROP%20attack/" title="SROP（1）--从两道题重新认识SROP attack">SROP（1）--从两道题重新认识SROP attack</a><time datetime="2021-05-31T02:14:53.000Z" title="发表于 2021-05-31 10:14:53">2021-05-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/18/how2heap(14)-unsortedbin%20attack/" title="how2heap(14)-unsortedbin attack"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="how2heap(14)-unsortedbin attack"/></a><div class="content"><a class="title" href="/2021/05/18/how2heap(14)-unsortedbin%20attack/" title="how2heap(14)-unsortedbin attack">how2heap(14)-unsortedbin attack</a><time datetime="2021-05-18T07:48:53.000Z" title="发表于 2021-05-18 15:48:53">2021-05-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/17/how2heap(13)-tcache_stashing_unlink_attack/" title="how2heap(13)-tcache_stashing_unlink_attack"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="how2heap(13)-tcache_stashing_unlink_attack"/></a><div class="content"><a class="title" href="/2021/05/17/how2heap(13)-tcache_stashing_unlink_attack/" title="how2heap(13)-tcache_stashing_unlink_attack">how2heap(13)-tcache_stashing_unlink_attack</a><time datetime="2021-05-17T02:16:40.000Z" title="发表于 2021-05-17 10:16:40">2021-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/14/how2heap(12)-house%20of%20lore/" title="how2heap(12)-house of lore"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="how2heap(12)-house of lore"/></a><div class="content"><a class="title" href="/2021/05/14/how2heap(12)-house%20of%20lore/" title="how2heap(12)-house of lore">how2heap(12)-house of lore</a><time datetime="2021-05-14T08:02:54.000Z" title="发表于 2021-05-14 16:02:54">2021-05-14</time></div></div></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/06/"><span class="card-archive-list-date">六月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">十二月 2020</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">十一月 2020</span><span class="card-archive-list-count">14</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">317</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-07-04T10:42:41.665Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Cyberangel</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>